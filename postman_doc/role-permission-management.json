{
  "info": {
    "name": "StayNow - Role & Permission Management API",
    "description": "Role and Permission management endpoints for Super Admin",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{auth_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000/api",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "role_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "permission_id",
      "value": "1",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "1",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Get All Roles",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}/super-admin/roles?page=1&per_page=10&search=admin",
          "host": ["{{base_url}}"],
          "path": ["super-admin", "roles"],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "per_page",
              "value": "10"
            },
            {
              "key": "search",
              "value": "admin"
            }
          ]
        },
        "description": "Get all roles with pagination and search"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/super-admin/roles",
              "host": ["{{base_url}}"],
              "path": ["super-admin", "roles"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"Roles retrieved successfully\",\n  \"data\": {\n    \"roles\": [\n      {\n        \"id\": 1,\n        \"name\": \"super-admin\",\n        \"guard_name\": \"api\",\n        \"permissions\": [\n          {\n            \"id\": 1,\n            \"name\": \"users.view\",\n            \"guard_name\": \"api\"\n          }\n        ],\n        \"created_at\": \"2025-09-12T06:30:00.000000Z\"\n      }\n    ],\n    \"pagination\": {\n      \"current_page\": 1,\n      \"last_page\": 1,\n      \"per_page\": 15,\n      \"total\": 4\n    }\n  }\n}"
        }
      ]
    },
    {
      "name": "Create Role",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"moderator\",\n  \"permissions\": [\"users.view\", \"users.edit\"]\n}"
        },
        "url": {
          "raw": "{{base_url}}/super-admin/roles",
          "host": ["{{base_url}}"],
          "path": ["super-admin", "roles"]
        },
        "description": "Create new role with permissions"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"moderator\",\n  \"permissions\": [\"users.view\", \"users.edit\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/super-admin/roles",
              "host": ["{{base_url}}"],
              "path": ["super-admin", "roles"]
            }
          },
          "status": "Created",
          "code": 201,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"Role created successfully\",\n  \"data\": {\n    \"role\": {\n      \"id\": 5,\n      \"name\": \"moderator\",\n      \"guard_name\": \"api\",\n      \"permissions\": [\n        {\n          \"id\": 1,\n          \"name\": \"users.view\",\n          \"guard_name\": \"api\"\n        },\n        {\n          \"id\": 2,\n          \"name\": \"users.edit\",\n          \"guard_name\": \"api\"\n        }\n      ],\n      \"created_at\": \"2025-09-12T12:00:00.000000Z\"\n    }\n  }\n}"
        }
      ]
    },
    {
      "name": "Assign Permissions to Role",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"permissions\": [\"users.view\", \"users.edit\", \"users.ban\", \"users.unban\"]\n}"
        },
        "url": {
          "raw": "{{base_url}}/super-admin/roles/{{role_id}}/permissions",
          "host": ["{{base_url}}"],
          "path": ["super-admin", "roles", "{{role_id}}", "permissions"]
        },
        "description": "Assign permissions to specific role"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"permissions\": [\"users.view\", \"users.edit\", \"users.ban\", \"users.unban\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/super-admin/roles/1/permissions",
              "host": ["{{base_url}}"],
              "path": ["super-admin", "roles", "1", "permissions"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"Permissions assigned to role successfully\",\n  \"data\": {\n    \"role\": {\n      \"id\": 1,\n      \"name\": \"admin\",\n      \"guard_name\": \"api\",\n      \"permissions\": [\n        {\n          \"id\": 1,\n          \"name\": \"users.view\",\n          \"guard_name\": \"api\"\n        },\n        {\n          \"id\": 2,\n          \"name\": \"users.edit\",\n          \"guard_name\": \"api\"\n        },\n        {\n          \"id\": 3,\n          \"name\": \"users.ban\",\n          \"guard_name\": \"api\"\n        },\n        {\n          \"id\": 4,\n          \"name\": \"users.unban\",\n          \"guard_name\": \"api\"\n        }\n      ]\n    },\n    \"permissions\": [\n      {\n        \"id\": 1,\n        \"name\": \"users.view\",\n        \"guard_name\": \"api\"\n      },\n      {\n        \"id\": 2,\n        \"name\": \"users.edit\",\n        \"guard_name\": \"api\"\n      },\n      {\n        \"id\": 3,\n        \"name\": \"users.ban\",\n        \"guard_name\": \"api\"\n      },\n      {\n        \"id\": 4,\n        \"name\": \"users.unban\",\n        \"guard_name\": \"api\"\n      }\n    ]\n  }\n}"
        }
      ]
    },
    {
      "name": "Get All Permissions",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}/super-admin/permissions?page=1&per_page=10&group=users&search=ban",
          "host": ["{{base_url}}"],
          "path": ["super-admin", "permissions"],
          "query": [
            {
              "key": "page",
              "value": "1"
            },
            {
              "key": "per_page",
              "value": "10"
            },
            {
              "key": "group",
              "value": "users"
            },
            {
              "key": "search",
              "value": "ban"
            }
          ]
        },
        "description": "Get all permissions with pagination, search and group filter"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/super-admin/permissions",
              "host": ["{{base_url}}"],
              "path": ["super-admin", "permissions"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"Permissions retrieved successfully\",\n  \"data\": {\n    \"permissions\": [\n      {\n        \"id\": 1,\n        \"name\": \"users.view\",\n        \"guard_name\": \"api\",\n        \"created_at\": \"2025-09-12T06:30:00.000000Z\"\n      },\n      {\n        \"id\": 2,\n        \"name\": \"users.edit\",\n        \"guard_name\": \"api\",\n        \"created_at\": \"2025-09-12T06:30:00.000000Z\"\n      }\n    ],\n    \"pagination\": {\n      \"current_page\": 1,\n      \"last_page\": 1,\n      \"per_page\": 15,\n      \"total\": 6\n    }\n  }\n}"
        }
      ]
    },
    {
      "name": "Create Permission",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"properties.delete\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/super-admin/permissions",
          "host": ["{{base_url}}"],
          "path": ["super-admin", "permissions"]
        },
        "description": "Create new permission"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"properties.delete\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/super-admin/permissions",
              "host": ["{{base_url}}"],
              "path": ["super-admin", "permissions"]
            }
          },
          "status": "Created",
          "code": 201,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"Permission created successfully\",\n  \"data\": {\n    \"permission\": {\n      \"id\": 7,\n      \"name\": \"properties.delete\",\n      \"guard_name\": \"api\",\n      \"created_at\": \"2025-09-12T12:00:00.000000Z\"\n    }\n  }\n}"
        }
      ]
    },
    {
      "name": "Bulk Create Permissions",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"permissions\": [\n    \"properties.delete\",\n    \"properties.approve\",\n    \"bookings.cancel\",\n    \"bookings.approve\"\n  ]\n}"
        },
        "url": {
          "raw": "{{base_url}}/super-admin/permissions/bulk",
          "host": ["{{base_url}}"],
          "path": ["super-admin", "permissions", "bulk"]
        },
        "description": "Create multiple permissions at once"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"permissions\": [\n    \"properties.delete\",\n    \"properties.approve\"\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/super-admin/permissions/bulk",
              "host": ["{{base_url}}"],
              "path": ["super-admin", "permissions", "bulk"]
            }
          },
          "status": "Created",
          "code": 201,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"Permissions created successfully\",\n  \"data\": {\n    \"permissions\": [\n      {\n        \"id\": 7,\n        \"name\": \"properties.delete\",\n        \"guard_name\": \"api\",\n        \"created_at\": \"2025-09-12T12:00:00.000000Z\"\n      },\n      {\n        \"id\": 8,\n        \"name\": \"properties.approve\",\n        \"guard_name\": \"api\",\n        \"created_at\": \"2025-09-12T12:00:00.000000Z\"\n      }\n    ]\n  }\n}"
        }
      ]
    },
    {
      "name": "Assign Role to User",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"role\": \"moderator\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/super-admin/user-roles/{{user_id}}/assign-role",
          "host": ["{{base_url}}"],
          "path": ["super-admin", "user-roles", "{{user_id}}", "assign-role"]
        },
        "description": "Assign role to specific user"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"moderator\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/super-admin/user-roles/1/assign-role",
              "host": ["{{base_url}}"],
              "path": ["super-admin", "user-roles", "1", "assign-role"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"Role assigned to user successfully\",\n  \"data\": {\n    \"user\": {\n      \"id\": 1,\n      \"name\": \"Test User\",\n      \"roles\": [\n        {\n          \"id\": 4,\n          \"name\": \"guest\",\n          \"guard_name\": \"api\"\n        },\n        {\n          \"id\": 5,\n          \"name\": \"moderator\",\n          \"guard_name\": \"api\"\n        }\n      ]\n    },\n    \"roles\": [\n      {\n        \"id\": 4,\n        \"name\": \"guest\",\n        \"guard_name\": \"api\"\n      },\n      {\n        \"id\": 5,\n        \"name\": \"moderator\",\n        \"guard_name\": \"api\"\n      }\n    ]\n  }\n}"
        }
      ]
    },
    {
      "name": "Assign Permission to User",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"permission\": \"users.ban\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/super-admin/user-roles/{{user_id}}/assign-permission",
          "host": ["{{base_url}}"],
          "path": ["super-admin", "user-roles", "{{user_id}}", "assign-permission"]
        },
        "description": "Assign direct permission to user"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"permission\": \"users.ban\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/super-admin/user-roles/1/assign-permission",
              "host": ["{{base_url}}"],
              "path": ["super-admin", "user-roles", "1", "assign-permission"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"Permission assigned to user successfully\",\n  \"data\": {\n    \"user\": {\n      \"id\": 1,\n      \"name\": \"Test User\",\n      \"roles\": [\n        {\n          \"id\": 4,\n          \"name\": \"guest\",\n          \"guard_name\": \"api\"\n        }\n      ],\n      \"permissions\": [\n        {\n          \"id\": 3,\n          \"name\": \"users.ban\",\n          \"guard_name\": \"api\"\n        }\n      ]\n    },\n    \"permissions\": [\n      {\n        \"id\": 3,\n        \"name\": \"users.ban\",\n        \"guard_name\": \"api\"\n      }\n    ]\n  }\n}"
        }
      ]
    },
    {
      "name": "Get User Roles and Permissions",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Accept",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{base_url}}/super-admin/user-roles/{{user_id}}/roles-permissions",
          "host": ["{{base_url}}"],
          "path": ["super-admin", "user-roles", "{{user_id}}", "roles-permissions"]
        },
        "description": "Get user's roles and all permissions (from roles + direct)"
      },
      "response": [
        {
          "name": "Success Response",
          "originalRequest": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/super-admin/user-roles/1/roles-permissions",
              "host": ["{{base_url}}"],
              "path": ["super-admin", "user-roles", "1", "roles-permissions"]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"success\": true,\n  \"message\": \"User roles and permissions retrieved successfully\",\n  \"data\": {\n    \"user\": {\n      \"id\": 1,\n      \"name\": \"Test User\",\n      \"roles\": [\n        {\n          \"id\": 4,\n          \"name\": \"guest\",\n          \"guard_name\": \"api\",\n          \"permissions\": [\n            {\n              \"id\": 1,\n              \"name\": \"properties.view\",\n              \"guard_name\": \"api\"\n            }\n          ]\n        }\n      ],\n      \"permissions\": [\n        {\n          \"id\": 3,\n          \"name\": \"users.ban\",\n          \"guard_name\": \"api\"\n        }\n      ]\n    },\n    \"roles\": [\n      {\n        \"id\": 4,\n        \"name\": \"guest\",\n        \"guard_name\": \"api\",\n        \"permissions\": [\n          {\n            \"id\": 1,\n            \"name\": \"properties.view\",\n            \"guard_name\": \"api\"\n          }\n        ]\n      }\n    ],\n    \"direct_permissions\": [\n      {\n        \"id\": 3,\n        \"name\": \"users.ban\",\n        \"guard_name\": \"api\"\n      }\n    ],\n    \"all_permissions\": [\n      {\n        \"id\": 1,\n        \"name\": \"properties.view\",\n        \"guard_name\": \"api\"\n      },\n      {\n        \"id\": 3,\n        \"name\": \"users.ban\",\n        \"guard_name\": \"api\"\n      }\n    ]\n  }\n}"
        }
      ]
    }
  ]
}
